{
  "messages": [
    {
      "role": "system",
      "content": "You are an AI assistant tasked with refining D&D 5e game state data to fit a specific JSON schema. Return only the corrected JSON object with no additional text."
    },
    {
      "role": "user",
      "content": "Refine the following game state data to conform to the provided JSON schema. Schema:\n{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"D&D 5e Game State Schema\",\n  \"description\": \"A schema defining the structure for D&D 5e game state data, including players, NPCs, inventory, spells, and conditions. Updated to ensure validation refresh.\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"players\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"required\": [\n          \"name\",\n          \"hp\",\n          \"ac\",\n          \"strength\",\n          \"dexterity\",\n          \"constitution\",\n          \"intelligence\",\n          \"wisdom\",\n          \"charisma\",\n          \"class_type\"\n        ],\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"description\": {\n            \"type\": \"string\",\n            \"maxLength\": 500\n          },\n          \"hp\": {\n            \"type\": \"integer\"\n          },\n          \"ac\": {\n            \"type\": \"integer\"\n          },\n          \"strength\": {\n            \"type\": \"integer\"\n          },\n          \"dexterity\": {\n            \"type\": \"integer\"\n          },\n          \"constitution\": {\n            \"type\": \"integer\"\n          },\n          \"intelligence\": {\n            \"type\": \"integer\"\n          },\n          \"wisdom\": {\n            \"type\": \"integer\"\n          },\n          \"charisma\": {\n            \"type\": \"integer\"\n          },\n          \"class_type\": {\n            \"type\": \"string\",\n            \"enum\": [\n              \"wizard\",\n              \"sorcerer\",\n              \"fighter\",\n              \"rogue\",\n              \"cleric\",\n              \"barbarian\",\n              \"paladin\",\n              \"ranger\",\n              \"druid\",\n              \"monk\",\n              \"warlock\",\n              \"bard\"\n            ]\n          },\n          \"damage\": {\n            \"type\": \"string\",\n            \"pattern\": \"^\\\\d+d\\\\d+(\\\\s*\\\\+\\\\s*\\\\d+)?$\"\n          },\n          \"inventory\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"object\",\n              \"required\": [\n                \"name\",\n                \"type\"\n              ],\n              \"properties\": {\n                \"name\": {\n                  \"type\": \"string\"\n                },\n                \"description\": {\n                  \"type\": \"string\",\n                  \"maxLength\": 500\n                },\n                \"type\": {\n                  \"type\": \"string\",\n                  \"enum\": [\n                    \"melee\",\n                    \"ranged\",\n                    \"magic\",\n                    \"armor\",\n                    \"potion\",\n                    \"scroll\",\n                    \"misc\"\n                  ]\n                },\n                \"damage\": {\n                  \"type\": \"string\",\n                  \"pattern\": \"^\\\\d+d\\\\d+(\\\\s*\\\\+\\\\s*\\\\d+)?$\"\n                },\n                \"finesse\": {\n                  \"type\": \"boolean\"\n                },\n                \"versatile\": {\n                  \"type\": [\n                    \"object\",\n                    \"boolean\"\n                  ],\n                  \"properties\": {\n                    \"one_hand\": {\n                      \"type\": [\n                        \"string\",\n                        \"null\"\n                      ],\n                      \"pattern\": \"^\\\\d+d\\\\d+(\\\\s*\\\\+\\\\s*\\\\d+)?$\"\n                    },\n                    \"two_hands\": {\n                      \"type\": [\n                        \"string\",\n                        \"null\"\n                      ],\n                      \"pattern\": \"^\\\\d+d\\\\d+(\\\\s*\\\\+\\\\s*\\\\d+)?$\"\n                    }\n                  }\n                },\n                \"mod\": {\n                  \"type\": \"string\",\n                  \"enum\": [\n                    \"strength\",\n                    \"dexterity\",\n                    \"intelligence\",\n                    \"wisdom\",\n                    \"charisma\",\n                    \"constitution\"\n                  ]\n                }\n              }\n            }\n          },\n          \"spells\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"object\",\n              \"required\": [\n                \"name\",\n                \"type\",\n                \"targeting\"\n              ],\n              \"properties\": {\n                \"name\": {\n                  \"type\": \"string\"\n                },\n                \"description\": {\n                  \"type\": \"string\",\n                  \"maxLength\": 500\n                },\n                \"type\": {\n                  \"type\": \"string\",\n                  \"enum\": [\n                    \"damage\",\n                    \"healing\",\n                    \"buff\",\n                    \"debuff\",\n                    \"utility\"\n                  ]\n                },\n                \"damage\": {\n                  \"type\": \"string\",\n                  \"pattern\": \"^\\\\d+d\\\\d+(\\\\s*\\\\+\\\\s*\\\\d+)?$\"\n                },\n                \"healing\": {\n                  \"type\": \"string\",\n                  \"pattern\": \"^\\\\d+d\\\\d+(\\\\s*\\\\+\\\\s*\\\\d+)?$\"\n                },\n                \"effect\": {\n                  \"type\": \"object\",\n                  \"required\": [\n                    \"attribute\",\n                    \"modifier\",\n                    \"duration\"\n                  ],\n                  \"properties\": {\n                    \"attribute\": {\n                      \"type\": \"string\",\n                      \"enum\": [\n                        \"ac\",\n                        \"health\",\n                        \"visibility\",\n                        \"speed\",\n                        \"strength\",\n                        \"dexterity\",\n                        \"constitution\",\n                        \"intelligence\",\n                        \"wisdom\",\n                        \"charisma\",\n                        \"adv_disadv\",\n                        \"none\"\n                      ]\n                    },\n                    \"modifier\": {\n                      \"type\": [\n                        \"integer\",\n                        \"string\"\n                      ],\n                      \"description\": \"Temporary simplification to allow any string or integer due to jsonschema validation issues with conditional logic. Constraints for adv_disadv and none to be revisited.\"\n                    },\n                    \"duration\": {\n                      \"type\": \"integer\",\n                      \"minimum\": 0\n                    }\n                  }\n                },\n                \"save\": {\n                  \"type\": [\n                    \"string\",\n                    \"null\"\n                  ],\n                  \"enum\": [\n                    \"strength\",\n                    \"dexterity\",\n                    \"constitution\",\n                    \"intelligence\",\n                    \"wisdom\",\n                    \"charisma\",\n                    \"\",\n                    null\n                  ]\n                },\n                \"dc\": {\n                  \"type\": [\n                    \"integer\",\n                    \"null\"\n                  ],\n                  \"minimum\": 0\n                },\n                \"targeting\": {\n                  \"type\": \"string\",\n                  \"enum\": [\n                    \"single\",\n                    \"aoe\",\n                    \"self\"\n                  ]\n                }\n              }\n            }\n          },\n          \"conditions\": {\n            \"type\": \"object\",\n            \"additionalProperties\": {\n              \"type\": \"integer\",\n              \"minimum\": 0\n            }\n          }\n        }\n      }\n    },\n    \"npcs\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"required\": [\n          \"name\",\n          \"hp\",\n          \"ac\",\n          \"strength\",\n          \"dexterity\",\n          \"constitution\",\n          \"intelligence\",\n          \"wisdom\",\n          \"charisma\",\n          \"class_type\"\n        ],\n        \"properties\": {\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"description\": {\n            \"type\": \"string\",\n            \"maxLength\": 500\n          },\n          \"hp\": {\n            \"type\": \"integer\"\n          },\n          \"ac\": {\n            \"type\": \"integer\"\n          },\n          \"strength\": {\n            \"type\": \"integer\"\n          },\n          \"dexterity\": {\n            \"type\": \"integer\"\n          },\n          \"constitution\": {\n            \"type\": \"integer\"\n          },\n          \"intelligence\": {\n            \"type\": \"integer\"\n          },\n          \"wisdom\": {\n            \"type\": \"integer\"\n          },\n          \"charisma\": {\n            \"type\": \"integer\"\n          },\n          \"class_type\": {\n            \"type\": \"string\",\n            \"enum\": [\n              \"wizard\",\n              \"fighter\",\n              \"sorcerer\",\n              \"rogue\",\n              \"cleric\",\n              \"barbarian\",\n              \"paladin\",\n              \"ranger\",\n              \"druid\",\n              \"monk\",\n              \"warlock\",\n              \"bard\",\n              \"monster\",\n              \"beast\"\n            ]\n          },\n          \"damage\": {\n            \"type\": \"string\",\n            \"pattern\": \"^\\\\d+d\\\\d+(\\\\s*\\\\+\\\\s*\\\\d+)?$\"\n          },\n          \"inventory\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"object\",\n              \"required\": [\n                \"name\",\n                \"type\"\n              ],\n              \"properties\": {\n                \"name\": {\n                  \"type\": \"string\"\n                },\n                \"description\": {\n                  \"type\": \"string\",\n                  \"maxLength\": 500\n                },\n                \"type\": {\n                  \"type\": \"string\",\n                  \"enum\": [\n                    \"melee\",\n                    \"ranged\",\n                    \"magic\",\n                    \"armor\",\n                    \"potion\",\n                    \"scroll\",\n                    \"misc\"\n                  ]\n                },\n                \"damage\": {\n                  \"type\": \"string\",\n                  \"pattern\": \"^\\\\d+d\\\\d+(\\\\s*\\\\+\\\\s*\\\\d+)?$\"\n                },\n                \"finesse\": {\n                  \"type\": \"boolean\"\n                },\n                \"mod\": {\n                  \"type\": \"string\",\n                  \"enum\": [\n                    \"strength\",\n                    \"dexterity\",\n                    \"intelligence\",\n                    \"wisdom\",\n                    \"charisma\",\n                    \"constitution\"\n                  ]\n                }\n              }\n            }\n          },\n          \"spells\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"object\",\n              \"required\": [\n                \"name\",\n                \"type\",\n                \"targeting\"\n              ],\n              \"properties\": {\n                \"name\": {\n                  \"type\": \"string\"\n                },\n                \"description\": {\n                  \"type\": \"string\",\n                  \"maxLength\": 500\n                },\n                \"type\": {\n                  \"type\": \"string\",\n                  \"enum\": [\n                    \"damage\",\n                    \"healing\",\n                    \"buff\",\n                    \"debuff\",\n                    \"utility\"\n                  ]\n                },\n                \"damage\": {\n                  \"type\": \"string\",\n                  \"pattern\": \"^\\\\d+d\\\\d+(\\\\s*\\\\+\\\\s*\\\\d+)?$\"\n                },\n                \"healing\": {\n                  \"type\": \"string\",\n                  \"pattern\": \"^\\\\d+d\\\\d+(\\\\s*\\\\+\\\\s*\\\\d+)?$\"\n                },\n                \"effect\": {\n                  \"type\": \"object\",\n                  \"required\": [\n                    \"attribute\",\n                    \"modifier\",\n                    \"duration\"\n                  ],\n                  \"properties\": {\n                    \"attribute\": {\n                      \"type\": \"string\",\n                      \"enum\": [\n                        \"ac\",\n                        \"health\",\n                        \"visibility\",\n                        \"speed\",\n                        \"strength\",\n                        \"dexterity\",\n                        \"constitution\",\n                        \"intelligence\",\n                        \"wisdom\",\n                        \"charisma\",\n                        \"adv_disadv\",\n                        \"none\"\n                      ]\n                    },\n                    \"modifier\": {\n                      \"type\": [\n                        \"integer\",\n                        \"string\"\n                      ],\n                      \"description\": \"Temporary simplification to allow any string or integer due to jsonschema validation issues with conditional logic. Constraints for adv_disadv and none to be revisited.\"\n                    },\n                    \"duration\": {\n                      \"type\": \"integer\",\n                      \"minimum\": 0\n                    }\n                  }\n                },\n                \"save\": {\n                  \"type\": [\n                    \"string\",\n                    \"null\"\n                  ],\n                  \"enum\": [\n                    \"strength\",\n                    \"dexterity\",\n                    \"constitution\",\n                    \"intelligence\",\n                    \"wisdom\",\n                    \"charisma\",\n                    \"\",\n                    null\n                  ]\n                },\n                \"dc\": {\n                  \"type\": [\n                    \"integer\",\n                    \"null\"\n                  ],\n                  \"minimum\": 0\n                },\n                \"targeting\": {\n                  \"type\": \"string\",\n                  \"enum\": [\n                    \"single\",\n                    \"aoe\",\n                    \"self\"\n                  ]\n                }\n              }\n            }\n          },\n          \"conditions\": {\n            \"type\": \"object\",\n            \"additionalProperties\": {\n              \"type\": \"integer\",\n              \"minimum\": 0\n            }\n          }\n        }\n      }\n    }\n  },\n  \"required\": [\n    \"players\",\n    \"npcs\"\n  ]\n}\n\nNon-conforming data:\n{\n  \"players\": [\n    {\n      \"name\": \"King-Rabbit\",\n      \"description\": \"\",\n      \"hp\": 15,\n      \"ac\": 18,\n      \"strength\": 8,\n      \"dexterity\": 20,\n      \"constitution\": 12,\n      \"intelligence\": 10,\n      \"wisdom\": 16,\n      \"charisma\": 14,\n      \"class_type\": \"sorcerer\",\n      \"damage\": \"1d6\",\n      \"inventory\": [\n        {\n          \"name\": \"Long Carrot Magic Wand\",\n          \"type\": \"magic\",\n          \"damage\": \"1d8\",\n          \"finesse\": true,\n          \"mod\": \"dexterity\",\n          \"versatile\": {\n            \"one_hand\": \"1d6\",\n            \"two_hands\": \"1d8\"\n          }\n        },\n        {\n          \"name\": \"Orange Dress Bow\",\n          \"type\": \"misc\",\n          \"damage\": \"\",\n          \"finesse\": false,\n          \"mod\": \"dexterity\"\n        }\n      ],\n      \"spells\": [\n        {\n          \"name\": \"Psychic Blast\",\n          \"type\": \"damage\",\n          \"damage\": \"2d6+3\",\n          \"effect\": {\n            \"attribute\": \"health\",\n            \"modifier\": -5,\n            \"duration\": 1\n          },\n          \"save\": \"intelligence\",\n          \"dc\": 15,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Mind Shield\",\n          \"type\": \"buff\",\n          \"effect\": {\n            \"attribute\": \"ac\",\n            \"modifier\": 2,\n            \"duration\": 3\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"self\"\n        },\n        {\n          \"name\": \"Telekinetic Thrust\",\n          \"type\": \"utility\",\n          \"damage\": \"1d8+2\",\n          \"effect\": {\n            \"attribute\": \"speed\",\n            \"modifier\": 10,\n            \"duration\": 1\n          },\n          \"save\": \"strength\",\n          \"dc\": 13,\n          \"targeting\": \"single\"\n        }\n      ],\n      \"conditions\": {\n        \"none\": 0\n      }\n    },\n    {\n      \"name\": \"Emolas\",\n      \"description\": \"\",\n      \"hp\": 45,\n      \"ac\": 15,\n      \"strength\": 12,\n      \"dexterity\": 16,\n      \"constitution\": 13,\n      \"intelligence\": 14,\n      \"wisdom\": 10,\n      \"charisma\": 15,\n      \"class_type\": \"rogue\",\n      \"damage\": \"1d6\",\n      \"inventory\": [\n        {\n          \"name\": \"Khan's Shortbow\",\n          \"description\": \"A finely crafted shortbow, engraved with runes of an ancient archer lord, granting enhanced precision and power.\",\n          \"type\": \"ranged\",\n          \"damage\": \"3d6\",\n          \"finesse\": false,\n          \"versatile\": false,\n          \"mod\": \"dexterity\"\n        },\n        {\n          \"name\": \"Dagger\",\n          \"description\": \"A small, sharp blade, ideal for quick strikes or throwing.\",\n          \"type\": \"melee\",\n          \"damage\": \"1d4\",\n          \"finesse\": true,\n          \"versatile\": false,\n          \"mod\": \"dexterity\"\n        },\n        {\n          \"name\": \"Moonlight Katana\",\n          \"description\": \"A sleek, magical blade that gleams faintly under moonlight, imbued with enchantments for swift and deadly strikes.\",\n          \"type\": \"melee\",\n          \"damage\": \"1d8+3\",\n          \"finesse\": true,\n          \"versatile\": false,\n          \"mod\": \"dexterity\"\n        },\n        {\n          \"name\": \"Shortsword\",\n          \"description\": \"A lightweight, versatile blade, perfect for quick slashes and thrusts.\",\n          \"type\": \"melee\",\n          \"damage\": \"1d6\",\n          \"finesse\": true,\n          \"versatile\": false,\n          \"mod\": \"dexterity\"\n        }\n      ],\n      \"spells\": [\n        {\n          \"name\": \"Sonic Disintegration\",\n          \"description\": \"You unleash a blast of sonic energy that tears through a target, potentially shattering stone structures.\",\n          \"type\": \"damage\",\n          \"damage\": \"2d10+2\",\n          \"effect\": {\n            \"attribute\": \"none\",\n            \"modifier\": \"none\",\n            \"duration\": 0\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Fortune's Favor\",\n          \"description\": \"You grant a creature a spark of luck, allowing them to excel in their next endeavor.\",\n          \"type\": \"buff\",\n          \"effect\": {\n            \"attribute\": \"adv_disadv\",\n            \"modifier\": \"advantage\",\n            \"duration\": 4\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Curse of Misfortune\",\n          \"description\": \"You curse a creature with ill luck, hindering their actions.\",\n          \"type\": \"debuff\",\n          \"effect\": {\n            \"attribute\": \"adv_disadv\",\n            \"modifier\": \"disadvantage\",\n            \"duration\": 3\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Dancing Lights\",\n          \"description\": \"You create up to four torch-sized lights that hover and move at your command, illuminating an area.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"visibility\",\n            \"modifier\": \"bright\",\n            \"duration\": 10\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"self\"\n        },\n        {\n          \"name\": \"Faerie Fire\",\n          \"description\": \"Each object in a 20-foot cube is outlined in light, granting advantage on attack rolls against affected creatures.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"visibility\",\n            \"modifier\": \"advantage on attacks\",\n            \"duration\": 10\n          },\n          \"save\": \"dexterity\",\n          \"dc\": 14,\n          \"targeting\": \"aoe\"\n        },\n        {\n          \"name\": \"Minor Illusion\",\n          \"description\": \"You create a sound or image of an object that lasts for up to a minute, deceiving observers.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"visibility\",\n            \"modifier\": \"disadvantage\",\n            \"duration\": 2\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"self\"\n        },\n        {\n          \"name\": \"Stealthy Concealment\",\n          \"description\": \"You weave shadows around yourself, making it harder for enemies to land a hit.\",\n          \"type\": \"buff\",\n          \"effect\": {\n            \"attribute\": \"ac\",\n            \"modifier\": \"disadvantage\",\n            \"duration\": 2\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"self\"\n        },\n        {\n          \"name\": \"Sneak Attack\",\n          \"description\": \"You exploit a foe\\u2019s distraction to deal extra damage with a precise strike.\",\n          \"type\": \"damage\",\n          \"damage\": \"2d6\",\n          \"effect\": {\n            \"attribute\": \"none\",\n            \"modifier\": \"none\",\n            \"duration\": 0\n          },\n          \"save\": \"dexterity\",\n          \"dc\": 15,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Expertise\",\n          \"description\": \"You tap into your honed skills, gaining an edge in specific tasks.\",\n          \"type\": \"buff\",\n          \"effect\": {\n            \"attribute\": \"adv_disadv\",\n            \"modifier\": \"advantage\",\n            \"duration\": 4\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"self\"\n        },\n        {\n          \"name\": \"Cunning Action\",\n          \"description\": \"Your agility allows you to take a bonus action to dash, disengage, or hide.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"speed\",\n            \"modifier\": \"bonus action\",\n            \"duration\": 1\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"self\"\n        }\n      ],\n      \"conditions\": {}\n    },\n    {\n      \"name\": \"Gandalf\",\n      \"description\": \"A wise and powerful wizard, clad in grey robes, wielding ancient magic and a staff of great power.\",\n      \"hp\": 40,\n      \"ac\": 12,\n      \"strength\": 10,\n      \"dexterity\": 12,\n      \"constitution\": 14,\n      \"intelligence\": 18,\n      \"wisdom\": 16,\n      \"charisma\": 15,\n      \"class_type\": \"wizard\",\n      \"damage\": \"1d8\",\n      \"inventory\": [\n        {\n          \"name\": \"Staff of Power\",\n          \"description\": \"A gnarled wooden staff imbued with arcane energy, capable of channeling powerful spells.\",\n          \"type\": \"magic\",\n          \"damage\": \"1d8\",\n          \"finesse\": false,\n          \"versatile\": false,\n          \"mod\": \"intelligence\"\n        }\n      ],\n      \"spells\": [\n        {\n          \"name\": \"Cure Wounds\",\n          \"description\": \"A creature you touch regains a number of hit points, healing minor wounds.\",\n          \"type\": \"healing\",\n          \"healing\": \"1d8+3\",\n          \"effect\": {\n            \"attribute\": \"none\",\n            \"modifier\": \"none\",\n            \"duration\": 0\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Magic Missile\",\n          \"description\": \"You create three glowing darts of magical force that unerringly strike their targets.\",\n          \"type\": \"damage\",\n          \"damage\": \"3d4+3\",\n          \"effect\": {\n            \"attribute\": \"none\",\n            \"modifier\": \"none\",\n            \"duration\": 0\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Fireball\",\n          \"description\": \"A bright streak flashes to a point and detonates, engulfing the area in flames.\",\n          \"type\": \"damage\",\n          \"damage\": \"8d6\",\n          \"effect\": {\n            \"attribute\": \"none\",\n            \"modifier\": \"none\",\n            \"duration\": 0\n          },\n          \"save\": \"dexterity\",\n          \"dc\": 16,\n          \"targeting\": \"aoe\"\n        },\n        {\n          \"name\": \"Lightning Bolt\",\n          \"description\": \"A stroke of lightning forms a line, dealing damage to creatures in its path.\",\n          \"type\": \"damage\",\n          \"damage\": \"8d6\",\n          \"effect\": {\n            \"attribute\": \"none\",\n            \"modifier\": \"none\",\n            \"duration\": 0\n          },\n          \"save\": \"dexterity\",\n          \"dc\": 16,\n          \"targeting\": \"aoe\"\n        },\n        {\n          \"name\": \"Shield\",\n          \"description\": \"An invisible barrier of magical force protects you, increasing your AC temporarily.\",\n          \"type\": \"buff\",\n          \"effect\": {\n            \"attribute\": \"ac\",\n            \"modifier\": 5,\n            \"duration\": 1\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"self\"\n        }\n      ],\n      \"conditions\": {}\n    },\n    {\n      \"name\": \"Jarvis\",\n      \"description\": \"\",\n      \"hp\": 40,\n      \"ac\": 12,\n      \"strength\": 8,\n      \"dexterity\": 14,\n      \"constitution\": 10,\n      \"intelligence\": 18,\n      \"wisdom\": 12,\n      \"charisma\": 16,\n      \"class_type\": \"wizard\",\n      \"damage\": \"1d6\",\n      \"inventory\": [\n        {\n          \"name\": \"Quarterstaff\",\n          \"description\": \"A sturdy wooden staff, suitable for both combat and as a walking aid.\",\n          \"type\": \"melee\",\n          \"damage\": \"1d6\",\n          \"finesse\": false,\n          \"versatile\": {\n            \"one_hand\": \"1d6\",\n            \"two_hands\": \"1d8\"\n          },\n          \"mod\": \"strength\"\n        },\n        {\n          \"name\": \"Dagger\",\n          \"description\": \"A small, sharp blade, ideal for quick strikes or throwing.\",\n          \"type\": \"melee\",\n          \"damage\": \"1d4\",\n          \"finesse\": true,\n          \"versatile\": false,\n          \"mod\": \"dexterity\"\n        }\n      ],\n      \"spells\": [\n        {\n          \"name\": \"Magic Missile\",\n          \"description\": \"You create three glowing darts of magical force that unerringly strike their targets.\",\n          \"type\": \"damage\",\n          \"damage\": \"1d4+1\",\n          \"effect\": {\n            \"attribute\": \"none\",\n            \"modifier\": \"none\",\n            \"duration\": 0\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Psychic Damage\",\n          \"description\": \"You assail a creature\\u2019s mind with psychic energy, causing mental anguish.\",\n          \"type\": \"damage\",\n          \"damage\": \"2d6\",\n          \"effect\": {\n            \"attribute\": \"none\",\n            \"modifier\": \"none\",\n            \"duration\": 0\n          },\n          \"save\": \"intelligence\",\n          \"dc\": 15,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Charm Person\",\n          \"description\": \"You attempt to charm a humanoid, making them regard you as a friendly acquaintance.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"charisma\",\n            \"modifier\": \"-1\",\n            \"duration\": 1\n          },\n          \"save\": \"wisdom\",\n          \"dc\": 15,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Suggestion\",\n          \"description\": \"You suggest a course of action to a creature, magically influencing their behavior.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"charisma\",\n            \"modifier\": \"+2\",\n            \"duration\": 8\n          },\n          \"save\": \"wisdom\",\n          \"dc\": 15,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Major Image\",\n          \"description\": \"You create an illusion of an object, creature, or scene, which seems completely real.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"intelligence\",\n            \"modifier\": \"+3\",\n            \"duration\": 1\n          },\n          \"save\": \"intelligence\",\n          \"dc\": 18,\n          \"targeting\": \"aoe\"\n        }\n      ],\n      \"conditions\": {\n        \"Invisible\": 1\n      }\n    },\n    {\n      \"name\": \"Zaryn the Enchanter\",\n      \"description\": \"\",\n      \"hp\": 52,\n      \"ac\": 16,\n      \"strength\": 8,\n      \"dexterity\": 14,\n      \"constitution\": 14,\n      \"intelligence\": 12,\n      \"wisdom\": 10,\n      \"charisma\": 18,\n      \"class_type\": \"sorcerer\",\n      \"damage\": \"1d4\",\n      \"inventory\": [\n        {\n          \"name\": \"Dagger\",\n          \"description\": \"A small, sharp blade, ideal for quick strikes or throwing.\",\n          \"type\": \"melee\",\n          \"damage\": \"1d4\",\n          \"finesse\": true,\n          \"versatile\": {\n            \"one_hand\": \"1d4\",\n            \"two_hands\": null\n          },\n          \"mod\": \"dexterity\"\n        }\n      ],\n      \"spells\": [\n        {\n          \"name\": \"Blinding Light\",\n          \"description\": \"You conjure a burst of radiant light, temporarily blinding a creature.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"visibility\",\n            \"modifier\": \"blinded\",\n            \"duration\": 2\n          },\n          \"save\": \"constitution\",\n          \"dc\": 14,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Charm Person\",\n          \"description\": \"You attempt to charm a humanoid, making them regard you as a friendly acquaintance.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"charisma\",\n            \"modifier\": \"charmed\",\n            \"duration\": 10\n          },\n          \"save\": \"wisdom\",\n          \"dc\": 13,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Thunderclap\",\n          \"description\": \"You create a burst of thunderous sound, damaging and deafening nearby creatures.\",\n          \"type\": \"damage\",\n          \"damage\": \"2d6\",\n          \"effect\": {\n            \"attribute\": \"none\",\n            \"modifier\": \"none\",\n            \"duration\": 0\n          },\n          \"save\": \"constitution\",\n          \"dc\": 15,\n          \"targeting\": \"aoe\"\n        },\n        {\n          \"name\": \"Cause Fear\",\n          \"description\": \"You instill overwhelming fear in a creature, causing them to flee or cower.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"wisdom\",\n            \"modifier\": \"frightened\",\n            \"duration\": 1\n          },\n          \"save\": \"wisdom\",\n          \"dc\": 14,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Grasping Vines\",\n          \"description\": \"Magical vines sprout from the ground, entangling a creature.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"dexterity\",\n            \"modifier\": \"grappled\",\n            \"duration\": 1\n          },\n          \"save\": \"strength\",\n          \"dc\": 14,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Hold Person\",\n          \"description\": \"You paralyze a humanoid, rendering them unable to move or act.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"dexterity\",\n            \"modifier\": \"paralyzed\",\n            \"duration\": 10\n          },\n          \"save\": \"wisdom\",\n          \"dc\": 15,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Invisibility\",\n          \"description\": \"You or a creature you touch becomes invisible until the spell ends or they attack.\",\n          \"type\": \"buff\",\n          \"effect\": {\n            \"attribute\": \"visibility\",\n            \"modifier\": \"invisible\",\n            \"duration\": 10\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"self\"\n        },\n        {\n          \"name\": \"Hold Monster\",\n          \"description\": \"You paralyze a creature, regardless of type, rendering them immobile.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"dexterity\",\n            \"modifier\": \"paralyzed\",\n            \"duration\": 1\n          },\n          \"save\": \"wisdom\",\n          \"dc\": 16,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Flesh to Stone\",\n          \"description\": \"You attempt to turn a creature to stone, petrifying them over time.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"constitution\",\n            \"modifier\": \"petrified\",\n            \"duration\": 0\n          },\n          \"save\": \"constitution\",\n          \"dc\": 17,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Poison Spray\",\n          \"description\": \"You extend your hand and project a puff of noxious gas at a creature.\",\n          \"type\": \"damage\",\n          \"damage\": \"2d12\",\n          \"effect\": {\n            \"attribute\": \"none\",\n            \"modifier\": \"none\",\n            \"duration\": 0\n          },\n          \"save\": \"constitution\",\n          \"dc\": 13,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Earth Tremor\",\n          \"description\": \"You cause a tremor in the ground, knocking creatures prone and dealing damage.\",\n          \"type\": \"damage\",\n          \"damage\": \"1d6\",\n          \"effect\": {\n            \"attribute\": \"dexterity\",\n            \"modifier\": \"prone\",\n            \"duration\": 1\n          },\n          \"save\": \"dexterity\",\n          \"dc\": 12,\n          \"targeting\": \"aoe\"\n        },\n        {\n          \"name\": \"Entangle\",\n          \"description\": \"Grasping weeds and vines sprout, restraining creatures in an area.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"dexterity\",\n            \"modifier\": \"restrained\",\n            \"duration\": 1\n          },\n          \"save\": \"strength\",\n          \"dc\": 13,\n          \"targeting\": \"aoe\"\n        },\n        {\n          \"name\": \"Stunning Strike\",\n          \"description\": \"You strike a creature with force, attempting to stun them momentarily.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"constitution\",\n            \"modifier\": \"stunned\",\n            \"duration\": 1\n          },\n          \"save\": \"constitution\",\n          \"dc\": 14,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Sleep\",\n          \"description\": \"You send creatures into a magical slumber, rendering them unconscious.\",\n          \"type\": \"utility\",\n          \"effect\": {\n            \"attribute\": \"health\",\n            \"modifier\": \"unconscious\",\n            \"duration\": 1\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"aoe\"\n        }\n      ],\n      \"conditions\": {}\n    }\n  ],\n  \"npcs\": [\n    {\n      \"name\": \"Threx the Brutal\",\n      \"description\": \"A towering barbarian with scarred skin and a fierce glare, wielding a massive greataxe with deadly precision.\",\n      \"hp\": 60,\n      \"ac\": 14,\n      \"strength\": 18,\n      \"dexterity\": 12,\n      \"constitution\": 16,\n      \"intelligence\": 8,\n      \"wisdom\": 10,\n      \"charisma\": 9,\n      \"class_type\": \"barbarian\",\n      \"damage\": \"2d6\",\n      \"inventory\": [\n        {\n          \"name\": \"Greataxe\",\n          \"description\": \"A large, heavy axe designed for devastating two-handed strikes.\",\n          \"type\": \"melee\",\n          \"damage\": \"1d12\",\n          \"finesse\": false,\n          \"versatile\": {\n            \"one_hand\": null,\n            \"two_hands\": \"1d12\"\n          },\n          \"mod\": \"strength\"\n        },\n        {\n          \"name\": \"Handaxe\",\n          \"description\": \"A small axe that can be wielded or thrown with ease.\",\n          \"type\": \"melee\",\n          \"damage\": \"1d6\",\n          \"finesse\": false,\n          \"versatile\": {\n            \"one_hand\": \"1d6\",\n            \"two_hands\": null\n          },\n          \"mod\": \"strength\"\n        }\n      ],\n      \"spells\": [],\n      \"conditions\": {}\n    },\n    {\n      \"name\": \"Selara the Dark\",\n      \"description\": \"A cunning warlock with piercing eyes, cloaked in shadows, drawing power from an otherworldly patron.\",\n      \"hp\": 40,\n      \"ac\": 13,\n      \"strength\": 10,\n      \"dexterity\": 14,\n      \"constitution\": 12,\n      \"intelligence\": 14,\n      \"wisdom\": 12,\n      \"charisma\": 16,\n      \"class_type\": \"warlock\",\n      \"damage\": \"1d10\",\n      \"inventory\": [\n        {\n          \"name\": \"Eldritch Blast\",\n          \"description\": \"A beam of crackling energy streaks toward a creature, fueled by otherworldly magic.\",\n          \"type\": \"magic\",\n          \"damage\": \"1d10\",\n          \"finesse\": false,\n          \"versatile\": false,\n          \"mod\": \"charisma\"\n        },\n        {\n          \"name\": \"Dagger\",\n          \"description\": \"A small, sharp blade, ideal for quick strikes or throwing.\",\n          \"type\": \"melee\",\n          \"damage\": \"1d4\",\n          \"finesse\": true,\n          \"versatile\": {\n            \"one_hand\": \"1d4\",\n            \"two_hands\": null\n          },\n          \"mod\": \"dexterity\"\n        }\n      ],\n      \"spells\": [\n        {\n          \"name\": \"Hex\",\n          \"description\": \"You curse a creature, causing them to take extra damage and suffer disadvantage on ability checks.\",\n          \"type\": \"debuff\",\n          \"effect\": {\n            \"attribute\": \"adv_disadv\",\n            \"modifier\": \"disadvantage\",\n            \"duration\": 1\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Hellish Rebuke\",\n          \"description\": \"You point at a creature that damaged you, surrounding them with hellish flames.\",\n          \"type\": \"damage\",\n          \"damage\": \"2d10\",\n          \"effect\": {\n            \"attribute\": \"none\",\n            \"modifier\": \"none\",\n            \"duration\": 0\n          },\n          \"save\": \"dexterity\",\n          \"dc\": 14,\n          \"targeting\": \"single\"\n        }\n      ],\n      \"conditions\": {}\n    },\n    {\n      \"name\": \"Orc\",\n      \"description\": \"A brutish humanoid with green skin and tusks, driven by a thirst for battle.\",\n      \"hp\": 15,\n      \"ac\": 13,\n      \"strength\": 14,\n      \"dexterity\": 12,\n      \"constitution\": 13,\n      \"intelligence\": 8,\n      \"wisdom\": 10,\n      \"charisma\": 6,\n      \"class_type\": \"fighter\",\n      \"damage\": \"1d6\",\n      \"inventory\": [\n        {\n          \"name\": \"Greataxe\",\n          \"description\": \"A large, heavy axe designed for devastating two-handed strikes.\",\n          \"type\": \"melee\",\n          \"damage\": \"1d12\",\n          \"finesse\": false,\n          \"versatile\": false,\n          \"mod\": \"strength\"\n        }\n      ],\n      \"spells\": [],\n      \"conditions\": {}\n    },\n    {\n      \"name\": \"Goblin\",\n      \"description\": \"A small, sneaky creature with sharp teeth and a penchant for ambushes.\",\n      \"hp\": 12,\n      \"ac\": 15,\n      \"strength\": 10,\n      \"dexterity\": 14,\n      \"constitution\": 10,\n      \"intelligence\": 8,\n      \"wisdom\": 8,\n      \"charisma\": 8,\n      \"class_type\": \"fighter\",\n      \"damage\": \"1d6\",\n      \"inventory\": [\n        {\n          \"name\": \"Scimitar\",\n          \"description\": \"A curved blade designed for slashing attacks, favored by agile fighters.\",\n          \"type\": \"melee\",\n          \"damage\": \"1d6\",\n          \"finesse\": true,\n          \"versatile\": false,\n          \"mod\": \"dexterity\"\n        },\n        {\n          \"name\": \"Shortbow\",\n          \"description\": \"A small bow, easy to wield, used for ranged attacks.\",\n          \"type\": \"ranged\",\n          \"damage\": \"1d6\",\n          \"finesse\": false,\n          \"versatile\": false,\n          \"mod\": \"dexterity\"\n        }\n      ],\n      \"spells\": [],\n      \"conditions\": {}\n    },\n    {\n      \"name\": \"Troll\",\n      \"description\": \"A massive, lumbering creature with regenerative flesh and a ravenous appetite.\",\n      \"hp\": 30,\n      \"ac\": 13,\n      \"strength\": 18,\n      \"dexterity\": 10,\n      \"constitution\": 16,\n      \"intelligence\": 7,\n      \"wisdom\": 9,\n      \"charisma\": 6,\n      \"class_type\": \"barbarian\",\n      \"damage\": \"1d10\",\n      \"inventory\": [\n        {\n          \"name\": \"Club\",\n          \"description\": \"A heavy, crude weapon used to bludgeon foes into submission.\",\n          \"type\": \"melee\",\n          \"damage\": \"1d10\",\n          \"finesse\": false,\n          \"versatile\": false,\n          \"mod\": \"strength\"\n        }\n      ],\n      \"spells\": [],\n      \"conditions\": {}\n    },\n    {\n      \"name\": \"Goblin Witch\",\n      \"description\": \"A crafty goblin sorcerer, wielding dark magic and a twisted staff, feared by her kin.\",\n      \"hp\": 18,\n      \"ac\": 12,\n      \"strength\": 8,\n      \"dexterity\": 14,\n      \"constitution\": 10,\n      \"intelligence\": 14,\n      \"wisdom\": 12,\n      \"charisma\": 10,\n      \"class_type\": \"sorcerer\",\n      \"damage\": \"1d4\",\n      \"inventory\": [\n        {\n          \"name\": \"Magic Staff\",\n          \"description\": \"A twisted wooden staff, pulsing with arcane energy, used to channel spells.\",\n          \"type\": \"magic\",\n          \"damage\": \"1d4\",\n          \"finesse\": false,\n          \"versatile\": false,\n          \"mod\": \"intelligence\"\n        }\n      ],\n      \"spells\": [\n        {\n          \"name\": \"Magic Missile\",\n          \"description\": \"You create three glowing darts of magical force that unerringly strike their targets.\",\n          \"type\": \"damage\",\n          \"damage\": \"3d4+3\",\n          \"effect\": {\n            \"attribute\": \"none\",\n            \"modifier\": \"none\",\n            \"duration\": 0\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"single\"\n        },\n        {\n          \"name\": \"Burning Hands\",\n          \"description\": \"A thin sheet of flames shoots from your hands, burning creatures in a cone.\",\n          \"type\": \"damage\",\n          \"damage\": \"3d6\",\n          \"effect\": {\n            \"attribute\": \"none\",\n            \"modifier\": \"none\",\n            \"duration\": 0\n          },\n          \"save\": \"dexterity\",\n          \"dc\": 13,\n          \"targeting\": \"aoe\"\n        },\n        {\n          \"name\": \"Cure Wounds\",\n          \"description\": \"A creature you touch regains a number of hit points, healing minor wounds.\",\n          \"type\": \"healing\",\n          \"healing\": \"1d8+3\",\n          \"effect\": {\n            \"attribute\": \"none\",\n            \"modifier\": \"none\",\n            \"duration\": 0\n          },\n          \"save\": null,\n          \"dc\": null,\n          \"targeting\": \"self\"\n        }\n      ],\n      \"conditions\": {}\n    }\n  ]\n}\n\nFill in missing fields with appropriate D&D 5e values, remove invalid fields, and adjust existing fields to match the schema. Ensure the following: - For 'save' fields in spells, use a string value from ['strength', 'dexterity', 'constitution', 'intelligence', 'wisdom', 'charisma', ''] and avoid 'None' or null values. Use '' (empty string) if no saving throw is required. - For 'attribute' fields in spell effects, only use values from ['ac', 'health', 'visibility', 'speed', 'strength', 'dexterity', 'constitution', 'intelligence', 'wisdom', 'charisma', 'advantage', 'disadvantage']. Replace invalid values like 'movement' with 'speed'. Return ONLY the corrected JSON object with no additional text or formatting."
    }
  ],
  "model": "llama-3.3-70b",
  "temperature": 0.5,
  "venice_parameters": {
    "enable_web_search": "auto"
  },
  "parallel_tool_calls": true
}